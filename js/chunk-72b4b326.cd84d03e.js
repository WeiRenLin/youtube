(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72b4b326"],{"1dde":function(t,e,i){var n=i("d039"),o=i("b622"),s=i("2d00"),a=o("species");t.exports=function(t){return s>=51||!n((function(){var e=[],i=e.constructor={};return i[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,i){var n=i("861d"),o=i("e8b5"),s=i("b622"),a=s("species");t.exports=function(t,e){var i;return o(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!o(i.prototype)?n(i)&&(i=i[a],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},8418:function(t,e,i){"use strict";var n=i("c04e"),o=i("9bf2"),s=i("5c6c");t.exports=function(t,e,i){var a=n(e);a in t?o.f(t,a,s(0,i)):t[a]=i}},"86d6":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isReady?i("div",{staticClass:"list"},t._l(t.list,(function(e,n){return i("div",{key:n,staticClass:"item"},[i("iframe",{staticClass:"video",attrs:{id:"player",src:t.embedUrl+e.id.videoId+"?enablejsapi=1&allowsInlineMediaPlayback=true&playsinline=1",width:"300",height:"300"}}),i("div",{staticClass:"detail"},[i("img",{staticClass:"icon",attrs:{src:t.icon}}),i("div",{staticClass:"right"},[i("div",{staticClass:"title"},[t._v(t._s(e.snippet.title))]),i("div",{staticClass:"owner"},[t._v(t._s(e.snippet.channelTitle))]),i("p",[t._v(" "+t._s(e.snippet.description))]),i("button",{on:{click:function(i){return t.addFavorite(e.id.videoId)}}},[t._v("add")])])])])})),0):t._e()},o=[],s=(i("99af"),i("d3b7"),i("bc3a")),a=i.n(s),r={name:"Index",data:function(){return{isReady:!1,getUserUrl:"https://www.googleapis.com/youtube/v3/channels?part=contentDetails&mine=true&key=AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",url:"https://www.googleapis.com/youtube/v3/search?&part=snippet&type=video&videoCaption=closedCaption",iconUrl:"https://www.googleapis.com/youtube/v3/channels?part=snippet&id=UCLW_SzI9txZvtOFTPDswxqg&fields=items(id%2Csnippet%2Fthumbnails)&key=AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",allListsUrl:"https://www.googleapis.com/youtube/v3/channels?part=contentDetails&key=AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",embedUrl:"https://www.youtube.com/embed/",addUrl:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",maxResults:"50",key:"AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",list:[],icon:"",userId:"",favoriteId:"",videoId:"",accessToken:localStorage.getItem("token")||""}},methods:{getUserInfo:function(){var t=this,e=this.getUserUrl;a.a.get(e).then((function(e){var i=e.data;t.userId=i.items[0].id,t.getAllList()}))},getIcon:function(){var t=this,e=this.iconUrl;a.a.get(e).then((function(e){var i=e.data;t.icon=i.items[0].snippet.thumbnails.default.url,t.isReady=!0}))},getList:function(){var t=this;console.log(this.accessToken);var e=this.url,i=this.maxResults,n=this.key,o=e+"&q=".concat(encodeURIComponent("木曜4超玩"),"/videos&maxResults=").concat(i,"&key=").concat(n);a.a.get(o).then((function(e){var i=e.data;t.list=i.items,t.getIcon()}))},getAllList:function(){var t=this,e=this.allListsUrl,i=this.userId;a.a.get(e+"&id=".concat(i)).then((function(e){var i=e.data;t.favoriteId=i.items[0].contentDetails.relatedPlaylists.favorites}))},addFavorite:function(t){var e=this.favoriteId;this.videoId=t;var i={snippet:{playlistId:e,position:0,resourceId:{kind:"youtube#video",videoId:t}}},n=this.addUrl,o=this.authenticate,s=this.accessToken;s?a.a.post(n,i).then((function(){console.log("success"),alert("增加成功")})).catch((function(){o()})):o()},authenticate:function(){var t=this;return gapi.auth2.getAuthInstance().signIn({scope:"https://www.googleapis.com/auth/youtube.force-ssl https://www.googleapis.com/auth/youtube.readonly"}).then((function(e){t.accessToken=e.wc.access_token,localStorage.token=e.wc.access_token,t.setting()})).catch((function(t){console.error("Error signing in",t)}))},setting:function(){var t=this;a.a.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("token"))||!1,t.loadClient(),e}),(function(t){return Promise.reject(t)}))},loadClient:function(){var t=this;return gapi.client.setApiKey("AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew"),gapi.client.load("https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest").then((function(){t.execute()})).catch((function(){console.error("Error loading GAPI client for API")}))},execute:function(){var t=this.videoId,e=this.favoriteId;return gapi.client.youtube.playlistItems.insert({part:["snippet"],resource:{snippet:{playlistId:e,position:0,resourceId:{kind:"youtube#video",videoId:t}}}}).then((function(t){console.log("Response",t),alert("增加成功")})).catch((function(t){console.error("Execute error",t)}))}},created:function(){a.a.defaults.withCredentials=!1,gapi.load("client:auth2",(function(){gapi.auth2.init({client_id:"878648823639-smhdtm84lnasgdg2vcf882tacri1fn5i.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/youtube"})})),this.getUserInfo(),this.getList()}},c=r,u=i("2877"),l=Object(u["a"])(c,n,o,!1,null,null,null);e["default"]=l.exports},"99af":function(t,e,i){"use strict";var n=i("23e7"),o=i("d039"),s=i("e8b5"),a=i("861d"),r=i("7b0b"),c=i("50c4"),u=i("8418"),l=i("65f0"),d=i("1dde"),p=i("b622"),h=i("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",y=h>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),w=d("concat"),I=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:s(t)},m=!y||!w;n({target:"Array",proto:!0,forced:m},{concat:function(t){var e,i,n,o,s,a=r(this),d=l(a,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(s=-1===e?a:arguments[e],I(s)){if(o=c(s.length),p+o>f)throw TypeError(g);for(i=0;i<o;i++,p++)i in s&&u(d,p,s[i])}else{if(p>=f)throw TypeError(g);u(d,p++,s)}return d.length=p,d}})},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-72b4b326.cd84d03e.js.map