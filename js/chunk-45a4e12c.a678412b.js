(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45a4e12c"],{"1dde":function(t,e,i){var n=i("d039"),s=i("b622"),o=i("2d00"),r=s("species");t.exports=function(t){return o>=51||!n((function(){var e=[],i=e.constructor={};return i[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,i){var n=i("861d"),s=i("e8b5"),o=i("b622"),r=o("species");t.exports=function(t,e){var i;return s(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?n(i)&&(i=i[r],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},8418:function(t,e,i){"use strict";var n=i("c04e"),s=i("9bf2"),o=i("5c6c");t.exports=function(t,e,i){var r=n(e);r in t?s.f(t,r,o(0,i)):t[r]=i}},"99af":function(t,e,i){"use strict";var n=i("23e7"),s=i("d039"),o=i("e8b5"),r=i("861d"),a=i("7b0b"),c=i("50c4"),l=i("8418"),u=i("65f0"),d=i("1dde"),f=i("b622"),p=i("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",y=p>=51||!s((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),w=d("concat"),m=function(t){if(!r(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)},I=!y||!w;n({target:"Array",proto:!0,forced:I},{concat:function(t){var e,i,n,s,o,r=a(this),d=u(r,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?r:arguments[e],m(o)){if(s=c(o.length),f+s>v)throw TypeError(g);for(i=0;i<s;i++,f++)i in o&&l(d,f,o[i])}else{if(f>=v)throw TypeError(g);l(d,f++,o)}return d.length=f,d}})},c494:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isReady?i("div",{staticClass:"list"},t._l(t.favoriteList,(function(e,n){return i("div",{key:n,staticClass:"item"},[i("iframe",{staticClass:"video",attrs:{id:"player",src:t.embedUrl+e.snippet.resourceId.videoId+"?enablejsapi=1&allowsInlineMediaPlayback=true&playsinline=1",width:"300",height:"300"}}),i("div",{staticClass:"detail"},[i("img",{staticClass:"icon",attrs:{src:t.icon}}),i("div",{staticClass:"right"},[i("div",{staticClass:"title"},[t._v(t._s(e.snippet.title))]),i("div",{staticClass:"owner"},[t._v(t._s(e.snippet.channelTitle))]),i("p",{staticClass:"description"},[t._v(" "+t._s(e.snippet.description))]),i("button",{on:{click:function(i){return t.deleteFavorite(e.id)}}},[t._v("delete")])])])])})),0):t._e()},s=[],o=(i("99af"),i("d3b7"),i("bc3a")),r=i.n(o),a={name:"Favorite",data:function(){return{isReady:!0,getUserUrl:"https://www.googleapis.com/youtube/v3/channels?part=contentDetails&mine=true&key=AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",allListsUrl:"https://www.googleapis.com/youtube/v3/channels?part=contentDetails&key=AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",favoriteUrl:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",deleteUrl:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew",embedUrl:"https://www.youtube.com/embed/",userId:"",deletedId:"",favoriteId:"",accessToken:localStorage.getItem("token")||"",favoriteList:{},maxResults:"50"}},methods:{getUserInfo:function(){var t=this,e=this.getUserUrl;r.a.get(e).then((function(e){var i=e.data;t.userId=i.items[0].id,t.getAllList()}))},getAllList:function(){var t=this,e=this.allListsUrl,i=this.userId;r.a.get(e+"&id=".concat(i)).then((function(e){var i=e.data,n=i.items[0].contentDetails.relatedPlaylists.favorites;t.getFavoriteList(n)}))},getFavoriteList:function(t){var e=this,i=this.favoriteUrl,n=this.maxResults;this.favoriteId=t,r.a.get(i+"&playlistId=".concat(t,"&maxResults=").concat(n)).then((function(t){var i=t.data;e.favoriteList=i.items}))},deleteFavorite:function(t){this.deletedId=t;var e={id:this.deletedId},i=this.deleteUrl,n=this.authenticate,s=this.accessToken;s?r.a.post(i,e).then((function(){console.log("success"),alert("刪除成功")})).catch((function(){n()})):n()},authenticate:function(){var t=this;return gapi.auth2.getAuthInstance().signIn({scope:"https://www.googleapis.com/auth/youtube.force-ssl"}).then((function(e){t.accessToken=e.wc.access_token,localStorage.token=e.wc.access_token,t.setting()})).catch((function(t){console.error("Error signing in",t)}))},setting:function(){var t=this;r.a.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("token"))||!1,t.loadClient(),e}),(function(t){return Promise.reject(t)}))},loadClient:function(){var t=this;return gapi.client.setApiKey("AIzaSyAWVhkyOnTdrJOJZizvsUuB8UvIgUH77Ew"),gapi.client.load("https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest").then((function(){t.execute()})).catch((function(){console.error("Error loading GAPI client for API")}))},execute:function(){var t=this.deletedId;return gapi.client.youtube.playlistItems.delete({id:t}).then((function(t){console.log("Response",t),alert("刪除成功")})).catch((function(t){console.error("Execute error",t)}))}},created:function(){r.a.defaults.withCredentials=!1,gapi.load("client:auth2",(function(){gapi.auth2.init({client_id:"878648823639-smhdtm84lnasgdg2vcf882tacri1fn5i.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/youtube"})})),this.getUserInfo()}},c=a,l=i("2877"),u=Object(l["a"])(c,n,s,!1,null,null,null);e["default"]=u.exports},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-45a4e12c.a678412b.js.map